{"ast":null,"code":"import React,{useState}from'react';import'./App.css';// Your CSS file\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[image,setImage]=useState(null);// Store the image as a base64 string\nconst[imageFile,setImageFile]=useState(null);// Store the file object\nconst[uploading,setUploading]=useState(false);// Track if image is being uploaded\nconst[uploadUrl,setUploadUrl]=useState(null);// Store the uploaded image URL\n// Handle image selection\nconst handleImageUpload=event=>{const file=event.target.files[0];if(file){const reader=new FileReader();reader.onloadend=()=>{setImage(reader.result);// Set the image preview as base64\nsetImageFile(file);// Save the file object for uploading\n};reader.readAsDataURL(file);// Convert the image to base64 for preview\n}};// Handle the upload button click\nconst handleUpload=()=>{if(imageFile){// Start the upload process\nsetUploading(true);// Create a form to send the image to Cloudinary (using FormData)\nconst formData=new FormData();formData.append('file',imageFile);formData.append('upload_preset','preset-ai');// Replace with your Cloudinary preset\nformData.append('cloud_name','dmje8coun');// Replace with your Cloudinary cloud name\n// Upload the image to Cloudinary using fetch\nfetch('https://api.cloudinary.com/v1_1/dmje8coun/image/upload',{method:'POST',body:formData}).then(response=>response.json()).then(data=>{setUploading(false);// Stop the loading state\nif(data.secure_url){setUploadUrl(data.secure_url);// Store the uploaded image URL\nalert('Image uploaded successfully!');}else{alert('Image upload failed!');}}).catch(error=>{setUploading(false);// Stop the loading state\nconsole.error('Upload failed:',error);alert('Image upload failed');});}else{alert('Please select an image first!');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Image Upload to Cloudinary\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:handleImageUpload,className:\"file-input\"}),image&&/*#__PURE__*/_jsxs(\"div\",{className:\"image-preview-container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Preview of uploaded image:\"}),/*#__PURE__*/_jsx(\"img\",{src:image,alt:\"Uploaded Preview\",className:\"image-preview\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleUpload,disabled:uploading,children:uploading?'Uploading...':'Upload Image'}),uploadUrl&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Uploaded Image URL:\"}),/*#__PURE__*/_jsx(\"a\",{href:uploadUrl,target:\"_blank\",rel:\"noopener noreferrer\",children:uploadUrl})]})]});}export default App;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","App","image","setImage","imageFile","setImageFile","uploading","setUploading","uploadUrl","setUploadUrl","handleImageUpload","event","file","target","files","reader","FileReader","onloadend","result","readAsDataURL","handleUpload","formData","FormData","append","fetch","method","body","then","response","json","data","secure_url","alert","catch","error","console","className","children","type","accept","onChange","src","alt","onClick","disabled","href","rel"],"sources":["T:/AI/github/react/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './App.css';  // Your CSS file\r\n\r\nfunction App() {\r\n  const [image, setImage] = useState(null);  // Store the image as a base64 string\r\n  const [imageFile, setImageFile] = useState(null);  // Store the file object\r\n  const [uploading, setUploading] = useState(false);  // Track if image is being uploaded\r\n  const [uploadUrl, setUploadUrl] = useState(null);  // Store the uploaded image URL\r\n\r\n  // Handle image selection\r\n  const handleImageUpload = (event) => {\r\n    const file = event.target.files[0];\r\n    if (file) {\r\n      const reader = new FileReader();\r\n      reader.onloadend = () => {\r\n        setImage(reader.result); // Set the image preview as base64\r\n        setImageFile(file); // Save the file object for uploading\r\n      };\r\n      reader.readAsDataURL(file); // Convert the image to base64 for preview\r\n    }\r\n  };\r\n\r\n  // Handle the upload button click\r\n  const handleUpload = () => {\r\n    if (imageFile) {\r\n      // Start the upload process\r\n      setUploading(true);\r\n\r\n      // Create a form to send the image to Cloudinary (using FormData)\r\n      const formData = new FormData();\r\n      formData.append('file', imageFile);\r\n      formData.append('upload_preset', 'preset-ai'); // Replace with your Cloudinary preset\r\n      formData.append('cloud_name', 'dmje8coun'); // Replace with your Cloudinary cloud name\r\n\r\n      // Upload the image to Cloudinary using fetch\r\n      fetch('https://api.cloudinary.com/v1_1/dmje8coun/image/upload', {\r\n        method: 'POST',\r\n        body: formData,\r\n      })\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n          setUploading(false);  // Stop the loading state\r\n          if (data.secure_url) {\r\n            setUploadUrl(data.secure_url); // Store the uploaded image URL\r\n            alert('Image uploaded successfully!');\r\n          } else {\r\n            alert('Image upload failed!');\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          setUploading(false);  // Stop the loading state\r\n          console.error('Upload failed:', error);\r\n          alert('Image upload failed');\r\n        });\r\n    } else {\r\n      alert('Please select an image first!');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <h1>Image Upload to Cloudinary</h1>\r\n\r\n      {/* Image upload input */}\r\n      <input\r\n        type=\"file\"\r\n        accept=\"image/*\"\r\n        onChange={handleImageUpload}\r\n        className=\"file-input\"\r\n      />\r\n\r\n      {/* Show uploaded image preview */}\r\n      {image && (\r\n        <div className=\"image-preview-container\">\r\n          <h3>Preview of uploaded image:</h3>\r\n          <img src={image} alt=\"Uploaded Preview\" className=\"image-preview\" />\r\n        </div>\r\n      )}\r\n\r\n      {/* Upload button */}\r\n      <button onClick={handleUpload} disabled={uploading}>\r\n        {uploading ? 'Uploading...' : 'Upload Image'}\r\n      </button>\r\n\r\n      {/* Display uploaded image URL */}\r\n      {uploadUrl && (\r\n        <div>\r\n          <h3>Uploaded Image URL:</h3>\r\n          <a href={uploadUrl} target=\"_blank\" rel=\"noopener noreferrer\">\r\n            {uploadUrl}\r\n          </a>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}