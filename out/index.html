<!DOCTYPE html>
<html>

<head>
    <meta charSet="utf-8" data-next-head="" />
    <meta name="viewport" content="width=device-width" data-next-head="" />
    <link rel="preload" href="/_next/static/css/20ff6d654618b094.css" as="style" />
    <link rel="stylesheet" href="/_next/static/css/20ff6d654618b094.css" data-n-g="" />
    <link rel="preload" href="/_next/static/css/6321d26454699944.css" as="style" />
    <link rel="stylesheet" href="/_next/static/css/6321d26454699944.css" data-n-p="" /><noscript
        data-n-css=""></noscript>
    <script defer="" nomodule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script>
    <script src="/_next/static/chunks/webpack-08b9b58f7ffa7394.js" defer=""></script>
    <script src="/_next/static/chunks/framework-b96261d959dd50e7.js" defer=""></script>
    <script src="/_next/static/chunks/main-333caaf25b733e30.js" defer=""></script>
    <script src="/_next/static/chunks/pages/_app-bc94df786567e722.js" defer=""></script>
    <script src="/_next/static/chunks/pages/index-6142f023de7cd16c.js" defer=""></script>
    <script src="/_next/static/l5LJR3ASOtGYsf-SKIMcy/_buildManifest.js" defer=""></script>
    <script src="/_next/static/l5LJR3ASOtGYsf-SKIMcy/_ssgManifest.js" defer=""></script>
</head>

<body>
    <div id="__next">
        <div class="Home_container__d256j">
            <h1 class="Home_title__hYX6j">Upload Image or Video</h1><input type="file"
                class="Home_input__OGaGo" /><button class="Home_button__G93Ef">Upload File</button>
        </div>
    </div>
    <script id="__NEXT_DATA__"
        type="application/json">{"props":{"pageProps":{}},"page":"/","query":{},"buildId":"l5LJR3ASOtGYsf-SKIMcy","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script>
</body>

</html>

// filepath: /t:/AI/github/react/pages/index.js
import { useState } from 'react';
import { GoogleLogin } from 'react-google-login';

export default function Home() {
  const [file, setFile] = useState(null);
  const [fileUrl, setFileUrl] = useState('');

  // Handle file selection
  const handleFileChange = (event) => {
    setFile(event.target.files[0]);
  };

  // Handle form submission (upload file)
  const handleUpload = async () => {
    if (!file) {
      alert('Please select a file first');
      return;
    }

    const formData = new FormData();
    formData.append('file', file);

    try {
      // Send the file to the backend API
      const response = await fetch('/api/upload', {
        method: 'POST',
        body: formData,
      });

      if (response.ok) {
        const data = await response.json();
        setFileUrl(data.fileUrl); // Update the URL for the uploaded file
        alert('File uploaded successfully!');
      } else {
        alert('File upload failed');
      }
    } catch (error) {
      console.error('Error uploading file:', error);
      alert('Error uploading file');
    }
  };

  // Handle Google Sign-In success
  const handleLoginSuccess = (response) => {
    console.log('Login Success:', response);
    // You can use the response to get user information and tokens
  };

  // Handle Google Sign-In failure
  const handleLoginFailure = (response) => {
    console.error('Login Failed:', response);
  };

  return (
    <div>
      <h1>Upload Image or Video</h1>
      <input type="file" onChange={handleFileChange} />
      <button onClick={handleUpload}>Upload File</button>
      <GoogleLogin
        clientId="YOUR_GOOGLE_CLIENT_ID"
        buttonText="Login with Google"
        onSuccess={handleLoginSuccess}
        onFailure={handleLoginFailure}
        cookiePolicy={'single_host_origin'}
      />
    </div>
  );
}